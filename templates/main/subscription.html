{% extends 'base/base.html' %}
{% load static %}
{% load myTags %}

{% block content %}
    <div class="container animate__animated animate__fadeIn" >
        <h2 class="color mb-3 text-center">
            Conoce CYMA Prime <i class="fa-solid fa-crown text-primary"></i>
        </h2>
        <hr>
        <section>
            <h3>Transforma Tu Bienestar Con Nuestro Contenido Educativo</h3>
            <p>¿Te cuesta relajarte o conciliar el sueño por las noches? Nuestra suscripción de único pago te ofrece acceso
                ilimitado a contenidos cuidadosamente diseñados para ayudarte a mejorar tu bienestar físico y mental.</p>
        
            <h3>¿Qué contenido encontrarás?</h3>
            <ul>
                <li><strong>Técnicas de relajación</strong>: Aprende ejercicios que estimulan tu sistema nervioso parasimpático,
                    ayudando a reducir el estrés y generar una sensación profunda de calma.</li>
                <li><strong>Mejora de hábitos de sueño</strong>: Descubre rutinas y prácticas que favorecen un descanso más profundo y
                    reparador, combatiendo el insomnio de forma natural.</li>
                <li><strong>Técnicas de meditación</strong>: Explora diferentes estilos de meditación guiada que te ayudarán a conectar
                    contigo mismo, mejorar tu enfoque y cultivar la atención plena.</li>
                <li><strong>Actividad física para el bienestar</strong>: Accede a ejercicios suaves y conscientes que promueven la
                    movilidad, alivian tensiones y fortalecen la conexión mente-cuerpo.</li>
            </ul>
        
            <h3>Beneficios de unirte:</h3>
            <ul>
                <li>Reducción de la ansiedad y el estrés diario.</li>
                <li>Mejora en la concentración y claridad mental.</li>
                <li>Fortalecimiento del sistema inmunológico.</li>
                <li>Incremento de la energía vital y bienestar general.</li>
            </ul>
        
            <p>No esperes más para tomar el control de tu bienestar. Con un único pago, obtén acceso de por vida a herramientas
                que transformarán tu día a día.</p>
        </section>
        <p class="color fs-3">
            <b>Precio:</b> $ 15.000 COP
        </p>
        <hr>
        <h3 class="color my-3 text-center">Métodos de pago</h3>
        <div class="row mb-4">
            <div class="col-md-6 col-lg-4">
                <div class="card shadow mb-3">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-4 text-center">
                                <img src="{% static 'img/nequi-logo.png' %}" alt="nequi-logo" class="img-fluid" style="height: 70px;">
                            </div>
                            <div class="col-8 text-center">
                                <span>Transferencia a Nequi</span>
                                <br>
                                <span class="color fs-3" id="numberNequi">3022318636</span>
                            </div>
                        </div>
                        <div class="text-center mt-2">
                            <button class="btn btn-outline-secondary" id="btnCopyNequi">Copiar número</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-4">
                <div class="card shadow mb-3">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-4 text-center">
                                <img src="{% static 'img/bancolombia-logo.png' %}" alt="bancolombia-logo" class="img-fluid" style="height: 70px;">
                            </div>
                            <div class="col-8 text-center">
                                <span>Cuenta de Ahorros</span>
                                <br>
                                <span class="color fs-3" id="numberBancolombia">16644370490</span>
                            </div>
                        </div>
                        <div class="text-center mt-2">
                            <button class="btn btn-outline-secondary" id="btnCopyBancolombia">Copiar número</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-4">
                <div class="card shadow mb-3">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-4 text-center">
                                <img src="{% static 'img/efectivo-logo.png' %}" alt="efectivo-logo" class="img-fluid" style="height: 70px;">
                            </div>
                            <div class="col-8 text-center">
                                <span>Pago en</span>
                                <br>
                                <span class="color fs-3">Efectivo</span>
                            </div>
                        </div>
                        <div class="text-center mt-2">
                            <button class="btn btn-secondary" disabled>Acércate a un asesor</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center mb-5">
            <button type="button" class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="#infoModal">
                Ya realicé el pago
            </button>
        </div>
    </div>

    <div class="modal fade" id="infoModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="infoModalLabel">Siguente paso</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Si ya realizaste el pago, por favor envía el comprobante a nuestro número de WhatsApp o acércate a un asesor para entregarte el enlace de acceso a la plataforma.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <a target="_blank" href="https://api.whatsapp.com/send/?phone=573022318636&text={{ 'Hola, he realizado el pago de CYMA Prime, a continuación te envio el comprobante de pago:'|urlencode }}" class="btn btn-success my-3">
                        Contactar por WhatsApp
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
        <div id="copyToast" class="toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    Número copiado!
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Cerrar"></button>
            </div>
        </div>
    </div>

{% endblock %}

{% block script %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const copyBtnNequi = document.getElementById('btnCopyNequi');
        const numberNequi = document.getElementById('numberNequi');

        const copyBtnBancolombia = document.getElementById('btnCopyBancolombia');
        const numberBancolombia = document.getElementById('numberBancolombia');

        const toastEl = document.getElementById('copyToast');
        const toast = new bootstrap.Toast(toastEl);

        function showToast() {
            toast.show();
        }

        copyBtnNequi.addEventListener('click', function () {
            const number = numberNequi.textContent.trim();

            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(number)
                    .then(() => showToast())
                    .catch(err => console.error('Error al copiar:', err));
            } else {
                const tempInput = document.createElement("input");
                tempInput.value = number;
                document.body.appendChild(tempInput);
                tempInput.select();
                document.execCommand("copy");
                document.body.removeChild(tempInput);
                showToast();
            }
        });

        copyBtnBancolombia.addEventListener('click', function () {
            const number = numberBancolombia.textContent.trim();

            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(number)
                    .then(() => showToast())
                    .catch(err => console.error('Error al copiar:', err));
            } else {
                const tempInput = document.createElement("input");
                tempInput.value = number;
                document.body.appendChild(tempInput);
                tempInput.select();
                document.execCommand("copy");
                document.body.removeChild(tempInput);
                showToast();
            }
        });
    });
</script>

{% endblock %}