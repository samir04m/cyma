{% extends 'base/base.html' %}
{% load myTags %}

{% block content %}
    <div class="container animate__animated animate__fadeIn">
        <h2 class="color mb-3">
            {{ q.name }}, estos son tus resultados:
        </h2>
        <div class="accordion" id="accordionResult">
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        Dimensión: Depresión 
                        <span class="badge bg-dark mx-2">{{ q.getDepressionScore }}</span>
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionResult">
                    <div class="accordion-body">
                        {% DepressionReport q %}
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        Dimensión: Ansiedad
                        <span class="badge bg-dark mx-2">{{ q.getAnxietyScore }}</span>
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionResult">
                    <div class="accordion-body">
                        {% AnxietyReport q %}
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        Dimensión: Estrés
                        <span class="badge bg-dark mx-2">{{ q.getStressScore }}</span>
                    </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionResult">
                    <div class="accordion-body">
                        {% StressReport q %}
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                        Dimensión: Puntaje Global
                        <span class="badge bg-dark mx-2">{{ q.getGlobalScore }}</span>
                    </button>
                </h2>
                <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#accordionResult">
                    <div class="accordion-body">
                        {% GlobalReport q %}
                    </div>
                </div>
            </div>
        </div>

        <div class="container-fluid my-3">
            <h5 class="color">
                ¿Te gustaria recibir entrenamiento exclusivo de técnicas de respiración o contar con la asesoría de un profesional del área de la psicología?
            </h5>
            <div class="text-center my-4">
                <a href="{% url 'main:Subscription' %}" class="btn btn-outline-success">Más información</a>   
            </div>
        </div>

    </div>
{% endblock %}